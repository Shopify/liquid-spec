uniq filter:

  doesn't change strings:
  - TPL: "{{ foo0 | uniq }}"
    EXP: foo
    CTX: { foo0: foo }

  uniqifies arrays, even if elements are unsorted:
  - TPL: "{{ foo0 | uniq }}"
    EXP: '1324'
    CTX: { foo0: [1, 1, 3, 2, 3, 1, 4, 3, 2, 1] }

  can uniqify based on a hash key:
  - TPL: '{{ foo0 | uniq: "a" }}'
    EXP: '{"a"=>1}{"a"=>3}{"a"=>2}'
    CTX: { foo0: [{ a: 1 }, { a: 3 }, { a: 1 }, { a: 2 }] }

  can uniqify based on a Drop method:
  - TPL: '{{ foo0 | uniq: "value" }}'
    EXP: TestDrop
    CTX: { foo0: [!ruby/object:TestDrop { value: test, context: {} }, !ruby/object:TestDrop { value: test, context: {} }] }

  tolerates a subkey uniqify on an empty array:
  - TPL: '{{ foo0 | uniq: "a" }}'
    EXP: ''
    CTX: { foo0: [] }

  handles a bunch of value types:
  - TPL: "{{ foo0 | uniq }}"
    EXP: '{:foo=>"bar"}'
    CTX:
      foo0:
        :foo: bar
  - TPL: "{{ foo0 | uniq }}"
    EXP: '{1=>"bar"}'
    CTX: { foo0: { 1: bar } }
  - TPL: "{{ foo0 | uniq }}"
    EXP: 'false'
    CTX: { foo0: false }
  - TPL: "{{ foo0 | uniq }}"
    EXP: '{"foo"=>"bar"}{"foo"=>123}{"foo"=>nil}{"foo"=>true}{"foo"=>["foo", "bar"]}'
    CTX: { foo0: [ { foo: bar }, { foo: 123 }, { foo: null }, { foo: true }, { foo: [ foo, bar ] } ] }
  - TPL: "{{ foo0 | uniq }}"
    EXP: ''
    CTX: { foo0: }
  - TPL: "{{ foo0 | uniq }}"
    EXP: 'true'
    CTX: { foo0: true }
  - TPL: "{{ foo0 | uniq }}"
    EXP: '123'
    CTX: { foo0: 123 }
  - TPL: "{{ foo0 | uniq }}"
    EXP: foo
    CTX: { foo0: foo }
  - TPL: "{{ foo0 | uniq }}"
    EXP: "-99999999"
    CTX: { foo0: -99999999 }
  - TPL: "{{ foo0 | uniq }}"
    EXP: '1234.3838300038383'
    CTX: { foo0: 1234.3838300038383 }
  - TPL: "{{ foo0 | uniq }}"
    EXP: foobar
    CTX: { foo0: [foo, bar] }
  - TPL: "{{ foo0 | uniq }}"
    EXP: '{"foo"=>1, "bar"=>2}{"foo"=>2, "bar"=>1}{"foo"=>3, "bar"=>3}'
    CTX: { foo0: !ruby/object:TestEnumerable { context: {} } }
  - TPL: "{{ foo0 | uniq }}"
    EXP: TestDrop
    CTX: { foo0: !ruby/object:TestDrop { value: test, context: {} } }
  - TPL: "{{ foo0 | uniq }}"
    EXP: 'woot: -1'
    CTX: { foo0: !ruby/object:TestThing { foo: -3 } }
  - TPL: "{{ foo0 | uniq }}"
    EXP: '{"foo"=>"bar"}'
    CTX: { foo0: { foo: bar } }
  - TPL: "{{ foo0 | uniq }}"
    EXP: '0'
    CTX: { foo0: 0 }
  - TPL: "{{ foo0 | uniq }}"
    EXP: '0.0'
    CTX: { foo0: 0.0 }
  - TPL: "{{ foo0 | uniq }}"
    EXP: "-1234.003030303"
    CTX: { foo0: -1234.003030303 }
  - TPL: "{{ foo0 | truncate }}"
    EXP: '0.0'
    CTX: { foo0: 0.0 }

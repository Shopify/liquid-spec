Comment tag:

  is just removed from the output:
  - "{% comment %}{% endcomment %}": ''
  - TPL: |-
      foo{%comment%}
                                           {%endcomment%}bar
    EXP: foobar
  - "{% comment %}{% raw %} {{%%%%}}  }} { {% endcomment %} {% comment {% endraw %} {% endcomment %}": ''
  - "{% comment %}{%endcomment%}": ''
  - '{% comment %}{% " %}{% endcomment %}': ''
  - foo {%comment%} comment {%endcomment%} bar: foo  bar
  - foo {%comment%} {%endcomment%} bar: foo  bar
  - "{% comment %}comment{% endcomment %}": ''
  - foo {%comment%}comment{%endcomment%} bar: foo  bar
  - "{%comment%}{% endcomment %}": ''
  - foo{% comment %}comment{% endcomment %}bar: foobar
  - foo{%comment%}comment{%endcomment%}bar: foobar
  - "{% comment %} 1 {% comment %} 2 {% endcomment %} 3 {% endcomment %}": ''
  - foo{%comment%} comment {%endcomment%}bar: foobar
  - "{% comment %}{% endwhatever %}{% endcomment %}": ''
  - "{%comment%}{%blabla%}{%endcomment%}": ''
  - foo{% comment %} comment {% endcomment %}bar: foobar
  - "{% comment %}{% blabla %}{% endcomment %}": ''
  - "{%comment%}{%endcomment%}": ''
  - "{%comment%}comment{%endcomment%}": ''
  - "{% comment %}{%%}{% endcomment %}": ''
  - "{%comment%}{% endif %}{%endcomment%}": ''
  - "comment removed {%comment%} be gone.. {%endcomment%} .. right?": "comment removed  .. right?"

  contents of comment must be parse-able:
  - "{% comment %}{% if x > 5 %}{% endcomment %}": {fatal: true}
  - "{% comment %}{{ unclosed_variable {% endcomment %}": {fatal: true}
  - "{% comment %}{% for item in items %}{% comment %}": {fatal: true}
  - "{% comment %}{% assign x = 5 {% endcomment %}": {fatal: true}
  - "{% comment %}{% capture my_variable %}Some text{% endcomment %}": {fatal: true}
  - "{% comment %}{% increment counter {% endcomment %}": {fatal: true}

  but these aren't parse failures:
  - "{% comment %}{ { var }}{% endcomment %}": ""
  - "{% comment %} increment counter %}{% endcomment %}": ""

  contents of comment are not evaluated, can have post-parse errors:
  - "{% comment %}{% include 'non-existent-file' %}{% endcomment %}": ''

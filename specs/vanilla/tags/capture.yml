---
Capture:

  works:
  - TPL: "{{ var2 }}{% capture var2 %}{{ var }} foo {% endcapture %}{{ var2 }}{{ var2 }}"
    EXP: 'content foo content foo '
    CTX: { var: content }

  and assign interact appropriately:
  - TPL: |
      {% assign first = '' -%}
      {% assign second = '' -%}
      {% for number in (1..3) -%}
        {% capture first %}{{number}}{% endcapture -%}
        {% assign second = first -%}
      {% endfor -%}
      {{ first }}-{{ second -}}
    EXP: 3-3

  to variable from outer scope if existing:
  - TPL: |
      {% assign var = '' -%}
      {% if true -%}
        {% capture var %}first-block-string{% endcapture -%}
      {% endif -%}
      {% if true -%}
        {% capture var %}test-string{% endcapture -%}
      {% endif -%}
      {{var-}}
    EXP: test-string

  with hyphen in variable name:
  - TPL: |
      {% capture this-thing %}Print this-thing{% endcapture -%}
      {{ this-thing -}}
    EXP: Print this-thing

  captures block content in variable:
  - "{% capture 'var' %}test string{% endcapture %}{{var}}": test string

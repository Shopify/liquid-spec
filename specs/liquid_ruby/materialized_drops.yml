---
_metadata:
  hint: |
    These specs use Ruby drop objects that require the ClassRegistry.
    Non-Ruby implementations should declare the :ruby_drops feature to run these tests,
    or skip them by not including :ruby_drops in their feature list.

    Drops like BooleanDrop, IntegerDrop, and ThingWithToLiquid test Ruby-specific
    to_liquid, to_liquid_value, and to_s behaviors.
  minimum_complexity: 500
  required_features:
  - ruby_drops
specs:
- name: VariableTest#test_case_tag_calls_to_liquid_value_b1c40961
  complexity: 500
  template: "{% case foo %}{% when 1 %}One{% endcase %}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
  render_errors: false
  expected: One
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L48
- name: VariableTest#test_condition_calls_to_liquid_value_0cd93b1a
  complexity: 500
  template: "{% if foo == true %}true{% endif %}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: true
  render_errors: false
  expected: 'true'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L35
- name: VariableTest#test_condition_calls_to_liquid_value_46cfd9a7
  complexity: 500
  template: "{% if foo == 1 %}one{% endif %}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
  render_errors: false
  expected: one
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L36
- name: VariableTest#test_condition_calls_to_liquid_value_5fa55b53
  complexity: 500
  template: "{% if foo and true %}SHOULD NOT HAPPEN{% endif %}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: false
  render_errors: false
  expected: ''
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L37
- name: VariableTest#test_condition_calls_to_liquid_value_8be4f14d
  complexity: 500
  template: "{% if foo == eqv %}one{% endif %}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
    eqv:
      instantiate:IntegerDrop:
        value: 1
  render_errors: false
  expected: one
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L38
- name: VariableTest#test_condition_calls_to_liquid_value_91b71f70
  complexity: 500
  template: "{% if foo > 0 %}one{% endif %}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
  render_errors: false
  expected: one
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L39
- name: VariableTest#test_condition_calls_to_liquid_value_b103509d
  complexity: 500
  template: "{% if a contains x %}one{% endif %}"
  environment:
    a:
    - 1
    x:
      instantiate:IntegerDrop:
        value: 1
  render_errors: false
  expected: one
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L40
- name: VariableTest#test_condition_calls_to_liquid_value_d62c87dd
  complexity: 500
  template: "{% if b > a %}one{% endif %}"
  environment:
    b:
      instantiate:IntegerDrop:
        value: 1
    a:
      instantiate:IntegerDrop:
        value: 0
  render_errors: false
  expected: one
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L41
- name: VariableTest#test_condition_calls_to_liquid_value_de41fb54
  complexity: 500
  template: "{% if 0 < foo %}one{% endif %}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
  render_errors: false
  expected: one
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L42
- name: VariableTest#test_condition_calls_to_liquid_value_e7e6cd79
  complexity: 500
  template: "{% if foo == true %}True{% endif %}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: false
  render_errors: false
  expected: ''
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L43
- name: VariableTest#test_truthy_drop_is_truthy_1f1d71b7
  complexity: 500
  template: "{% if foo %}true{% endif %}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: true
  render_errors: false
  expected: 'true'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L67
- name: VariableTest#test_truthy_drop_is_truthy_b1e30f0a
  complexity: 500
  template: "{% if foo %}true{% endif %}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: false
  render_errors: false
  expected: ''
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L68
- name: UnlessElseTagTest#test_unless_with_drop_9b1bef61
  complexity: 500
  template: "{% unless foo %}true{% endunless %}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: false
  render_errors: false
  expected: 'true'
- name: UnlessElseTagTest#test_unless_with_drop_bc49de2a
  complexity: 500
  template: "{% unless foo %}true{% endunless %}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: true
  render_errors: false
  expected: ''
- name: VariableTest#test_variable_lookup_calls_to_liquid_value_069de095
  complexity: 500
  template: "{{ list[foo] }}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
    list:
      1: one
  render_errors: false
  expected: one
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L73
- name: VariableTest#test_variable_lookup_calls_to_liquid_value_a45f8c05
  complexity: 500
  template: "{{ list[foo] }}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
    list:
    - 1
    - 2
    - 3
  render_errors: false
  expected: '2'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L74
- name: VariableTest#test_variable_render_calls_to_liquid_value_02b7f6ef
  complexity: 500
  template: "{{ foo }}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: true
  render_errors: false
  expected: Yay
- name: VariableTest#test_variable_render_calls_to_liquid_value_4f8b3a7e
  complexity: 500
  template: "{{ foo | upcase }}"
  environment:
    foo:
      instantiate:BooleanDrop:
        value: true
  render_errors: false
  expected: YAY
- name: VariableTest#test_variable_render_calls_to_liquid_value_d9a3e842
  complexity: 500
  template: "{{ foo }}"
  environment:
    foo:
      instantiate:IntegerDrop:
        value: 1
  render_errors: false
  expected: '1'
- name: StandardFiltersTest#test_at_least_acccepts_number_like_thing_2fa85f92
  complexity: 500
  template: "{{ width | at_least:5 }}"
  environment:
    width:
      instantiate:NumberLikeThing:
        amount: 4
  render_errors: false
  expected: '5'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L327
- name: StandardFiltersTest#test_at_least_acccepts_number_like_thing_3d65c66c
  complexity: 500
  template: "{{ 5 | at_least: width }}"
  environment:
    width:
      instantiate:NumberLikeThing:
        amount: 6
  render_errors: false
  expected: '6'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L328
- name: StandardFiltersTest#test_at_least_acccepts_number_like_thing_84fbbc20
  complexity: 500
  template: "{{ width | at_least:5 }}"
  environment:
    width:
      instantiate:NumberLikeThing:
        amount: 6
  render_errors: false
  expected: '6'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L329
- name: StandardFiltersTest#test_at_most_acccepts_number_like_thing_0fb6b2dc
  complexity: 500
  template: "{{ width | at_most:5 }}"
  environment:
    width:
      instantiate:NumberLikeThing:
        amount: 6
  render_errors: false
  expected: '5'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L341
- name: StandardFiltersTest#test_at_most_acccepts_number_like_thing_1b9cfae2
  complexity: 500
  template: "{{ 5 | at_most: width }}"
  environment:
    width:
      instantiate:NumberLikeThing:
        amount: 4
  render_errors: false
  expected: '4'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L342
- name: StandardFiltersTest#test_at_most_acccepts_number_like_thing_fc5a72a7
  complexity: 500
  template: "{{ width | at_most:5 }}"
  environment:
    width:
      instantiate:NumberLikeThing:
        amount: 4
  render_errors: false
  expected: '4'
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L343
- name: StandardFiltersTest#test_ceil_number_like_thing_abe2fd28
  complexity: 500
  template: "{{ price | ceil }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 4.6
  render_errors: false
  expected: '5'
- name: StandardFiltersTest#test_divided_by_number_like_thing_58ded0f9
  complexity: 500
  template: "{{ price | divided_by:2 }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 10
  render_errors: false
  expected: '5'
- name: StandardFiltersTest#test_floor_number_like_thing_6db37ddf
  complexity: 500
  template: "{{ price | floor }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 5.4
  render_errors: false
  expected: '5'
- name: StandardFiltersTest#test_minus_number_like_thing_caa53f2f
  complexity: 500
  template: "{{ price | minus:'2' }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 7
  render_errors: false
  expected: '5'
- name: StandardFiltersTest#test_modulo_number_like_thing_fad6cc2c
  complexity: 500
  template: "{{ price | modulo:2 }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 3
  render_errors: false
  expected: '1'
- name: StandardFiltersTest#test_plus_number_like_thing_4c0e7d25
  complexity: 500
  template: "{{ price | plus:'2' }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 3
  render_errors: false
  expected: '5'
- name: StandardFiltersTest#test_round_number_like_thing_aa7f8a1c
  complexity: 500
  template: "{{ price | round }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 4.6
  render_errors: false
  expected: '5'
- name: StandardFiltersTest#test_round_number_like_thing_b3d87c4e
  complexity: 500
  template: "{{ price | round }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 4.3
  render_errors: false
  expected: '4'
- name: StandardFiltersTest#test_times_number_like_thing_edf3c4b7
  complexity: 500
  template: "{{ price | times:2 }}"
  environment:
    price:
      instantiate:NumberLikeThing:
        amount: 2
  render_errors: false
  expected: '4'
- name: StandardFiltersTest#test_default_with_boolean_drop_true_04a6d3c5
  complexity: 500
  template: "{{ drop | default: 'bar' }}"
  environment:
    drop:
      instantiate:BooleanDrop:
        value: true
  render_errors: false
  expected: Yay
- name: StandardFiltersTest#test_default_with_boolean_drop_false_1c9a8b7d
  complexity: 500
  template: "{{ drop | default: 'bar' }}"
  environment:
    drop:
      instantiate:BooleanDrop:
        value: false
  render_errors: false
  expected: bar
- name: StandardFiltersTest#test_default_with_boolean_drop_allow_false_5e8f2c3a
  complexity: 500
  template: "{{ drop | default: 'bar', allow_false: true }}"
  environment:
    drop:
      instantiate:BooleanDrop:
        value: false
  render_errors: false
  expected: Nay
- name: StandardFiltersTest#test_default_with_boolean_drop_allow_false_true_7d4a9b6c
  complexity: 500
  template: "{{ drop | default: 'bar', allow_false: true }}"
  environment:
    drop:
      instantiate:BooleanDrop:
        value: true
  render_errors: false
  expected: Yay
- name: StandardFiltersTest#test_first_calls_to_liquid_6fc6e7a2
  complexity: 500
  template: "{{ foo | first }}"
  environment:
    foo:
    - instantiate:ThingWithToLiquid: {}
  render_errors: false
  expected: foobar
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L584
- name: StandardFiltersTest#test_last_calls_to_liquid_a5d8c9b7
  complexity: 500
  template: "{{ foo | last }}"
  environment:
    foo:
    - instantiate:ThingWithToLiquid: {}
  render_errors: false
  expected: foobar
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L585
- name: VariableTest#test_variable_render_calls_to_liquid_0a0a68b2
  complexity: 500
  template: "{{ foo }}"
  environment:
    foo:
      instantiate:ThingWithToLiquid: {}
  render_errors: false
  expected: foobar
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/variable_test.rb#L15
- name: ForTagTest#test_for_with_drop_returning_value_7c9e5d8f
  complexity: 500
  template: "{%for item in (1..foobar.value) %} {{item}} {%endfor%}"
  environment:
    foobar:
      instantiate:ThingWithValue: {}
  render_errors: false
  expected: " 1  2  3 "
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/tags/for_tag_test.rb#L62
- name: ConditionTest#test_range_equals_range_in_if_d89d2c49
  complexity: 500
  template: "{% if (1..5) == expect %}pass{% endif %}"
  environment:
    expect:
      instantiate:Range:
      - 1
      - 5
  render_errors: false
  expected: pass
- name: ConditionTest#test_range_equals_range_d8f93c5a
  complexity: 500
  template: "{% if expect == (1..2) %}pass{% else %}got {{ (1..2) }}{% endif %}"
  environment:
    expect:
      instantiate:Range:
      - 1
      - 2
  render_errors: false
  expected: pass
- name: StandardFiltersTest#test_truncate_calls_to_s_on_drops_b7d4c8e9
  complexity: 500
  template: "{{ foo | truncate: 5 }}"
  environment:
    foo:
      instantiate:ToSDrop:
        foo: 0
  render_errors: false
  expected: wo...
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/standard_filter_test.rb#L295
- name: HashRenderingTest#test_rendering_hash_with_custom_to_s_method_uses_custom_to_s_c2ef71b8
  complexity: 500
  template: "{{ my_hash }}"
  environment:
    my_hash:
      instantiate:HashWithCustomToS: {}
  render_errors: false
  expected: kewl
  url: https://github.com/Shopify/liquid/blob/584d703aa7552a31d90d09ee6a05416957b7696d/test/integration/hash_rendering_test.rb#L91
- name: HashRenderingTest#test_rendering_hash_without_custom_to_s_method_8b5d7a2c
  required_features: [ruby_types]
  complexity: 500
  template: "{{ my_hash }}"
  environment:
    my_hash:
      instantiate:HashWithoutCustomToS:
        foo: bar
  render_errors: false
  expected: "{:foo=>:bar}"

---
# These specs verify that strict mode correctly REJECTS invalid syntax
# that lax mode would accept. Each spec expects a Liquid::SyntaxError.
#
# This is the inverse of liquid_ruby_lax/specs.yml - same templates,
# but with error_mode: :strict and expecting syntax errors.

- name: StrictModeTest#test_assign_with_parentheses_rejected
  template: "{% assign foo = ('X' | downcase) %}"
  error_mode: :strict
  errors:
    parse_error:
      - "but found pipe"
  hint: "Filters cannot appear inside parentheses - lax mode tolerates this, strict rejects it"

- name: StrictModeTest#test_quirky_negative_sign_rejected
  template: "{{ - 'theme.css' - }}"
  error_mode: :strict
  errors:
    parse_error:
      - "not a valid expression"
  hint: "Leading/trailing dashes in variable output are invalid - lax mode tolerates this, strict rejects it"

- name: StrictModeTest#test_unclosed_bracket_lookup_rejected
  template: "{{['foo'}}"
  error_mode: :strict
  errors:
    parse_error:
      - "Expected close_square"
  hint: "Unclosed bracket in variable lookup is invalid - lax mode tolerates this, strict rejects it"
